(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}})();const h=document.querySelector("tbody"),L=document.querySelector(".table__buttons");async function _(){let e;const c="https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=15&page=1&sparkline=false",s={method:"GET",headers:{accept:"application/json"}};try{const r=await fetch(c,s);if(!r.ok)throw new Error(`HTTP error! Status ${r.status}`);return e=await r.json(),e}catch(r){return console.error(" Error fetching coins:",r),null}}const w=await _(),i=y(w,13);i!==null&&m(i,h);function m(e,c){let s="";if(e===null)return console.error(Error,"Данні массиву відсутні");e.forEach((r,t)=>{s+=`
		<tr class="table__body-row">
		  <td>${t+1}</td>
		  <td class="table__img"><img src="${r.image}" alt="${r.name}" width="24" /></td>
		  <td>${r.name}</td>
		  <td>${r.symbol}</td>
		  <td>${r.current_price}</td>
		  <td>${r.price_change_24h.toFixed(2)}</td>
		  <td>${r.price_change_percentage_24h.toFixed(2)}%</td>
		</tr>
	  `}),c.innerHTML=s}function y(e,c){return e!==null?e.slice(0,c):null}let o="start";function u(e){if(i!==null){o==="start"?o="asc":o==="asc"?o="desc":o==="desc"&&(o="start");const c=v(i,o,e);m(c,h)}}function v(e,c,s){return c==="start"?e:s==="Price"?[...e].sort((r,t)=>c==="asc"?t.current_price-r.current_price:r.current_price-t.current_price):s==="Price change"?[...e].sort((r,t)=>c==="asc"?t.price_change_24h-r.price_change_24h:r.price_change_24h-t.price_change_24h):s==="Price change %"?[...e].sort((r,t)=>c==="asc"?t.price_change_percentage_24h-r.price_change_percentage_24h:r.price_change_percentage_24h-t.price_change_percentage_24h):e}const l=document.querySelector(".svg-arrow"),d=document.querySelector(".svg-arrow-2"),p=document.querySelector(".svg-arrow-3");function f(e){!e.classList.contains("up")&&!e.classList.contains("down")?e.classList.add("up"):e.classList.contains("up")?e.classList.replace("up","down"):e.classList.contains("down")&&e.classList.remove("down")}function g(e,c){(e.classList.contains("up")||e.classList.contains("down"))&&e.classList.remove("up","down"),(c.classList.contains("up")||c.classList.contains("down"))&&c.classList.remove("up","down")}function b(e){e?.addEventListener("click",c=>{const s=c.target;s.className==="btn-price"?(u("Price"),g(d,p),f(l)):s.className==="btn-change"?(u("Price change"),g(l,p),f(d)):s.className==="btn-change-percent"?(u("Price change %"),g(d,l),f(p)):console.log("Для кнопик не назначено операцій")})}document.addEventListener("DOMContentLoaded",()=>{_()});b(L);
